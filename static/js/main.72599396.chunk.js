(this.webpackJsonpst=this.webpackJsonpst||[]).push([[0],{154:function(e,t,n){},155:function(e,t,n){},160:function(e,t,n){},162:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),s=n.n(c),o=(n(154),n(155),n(17)),i=n(41),l=n(40),u=n(5),d=n(209),j=n(210),b=n(211),p=n(234),m=n(47),f=n(208),h=n(31),x=n(109),O=n.n(x),g=n(113),v=n.n(g),S=n(114),I=n.n(S),w=n(115),y=n.n(w),D=n(116),C=n.n(D),k=n(117),N=n.n(k),T=n(118),L=n.n(T),F=n(119),R=n.n(F),E=n(120),B=n.n(E),P=n(121),U=n.n(P),A=n(122),M=n.n(A),z=n(123),H=n.n(z),W=n(3),G=function(e,t){var n={MenuIcon:O.a,ComputerIcon:v.a,DashboardIcon:I.a,AssignmentIcon:y.a,DateRangeIcon:C.a,AccessAlarmIcon:N.a,Dot:L.a,RemoveUser:R.a,Details:B.a,Session:U.a,User:M.a,Logout:H.a}[e];return Object(W.jsx)(n,Object(l.a)({},t))},K=function(e){return Object(W.jsx)("div",{className:"textBg",children:Object(W.jsx)("div",{children:e})})},Y=function(e){return Object(W.jsx)("div",{className:"textSm",children:Object(W.jsx)("div",{children:e})})},q=function(e){return new Date("1970-01-01T"+e+"Z").toLocaleTimeString({},{timeZone:"UTC",hour12:!0,hour:"numeric",minute:"numeric"})},J=n(233),Z=Object(f.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)}})),Q=function(e){var t=e.handleNavigation,n=e.openNav,a=Z();Object(h.a)();return Object(W.jsx)(d.a,{position:"fixed",className:Object(u.a)(a.appBar,Object(i.a)({},a.appBarShift,n)),children:Object(W.jsxs)(J.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",pr:2,children:[Object(W.jsxs)(j.a,{children:[Object(W.jsx)(b.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return t(!0)},edge:"start",className:Object(u.a)(a.menuButton,Object(i.a)({},a.hide,n)),children:G("MenuIcon")}),Object(W.jsx)(m.a,{variant:"h6",noWrap:!0,children:"GuidePRO"})]}),Object(W.jsx)(p.a,{style:{backgroundColor:"#081456"},"aria-label":"recipe",children:function(){var e=localStorage.getItem("employeeName").trim().split(" ");return 1!==e.length?e[0].split("")[0].toUpperCase()+e[e.length-1].split("")[0].toUpperCase():e[0].split("")[0].toUpperCase()}()})]})})},X=n(235),V=n(212),$=n(213),_=n(125),ee=n.n(_),te=n(124),ne=n.n(te),ae=n(214),re=n(215),ce=n(216),se=n(51),oe=(n(160),Object(f.a)((function(e){return{drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(i.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1})}}))),ie=[{name:"Home",path:"/Home",icon:"DashboardIcon"},{name:"Session Room",path:"/SessionRoom",icon:"ComputerIcon"},{name:"My Reports",path:"/Report",icon:"AssignmentIcon"}],le=function(e){var t,n,a=e.handleNavigation,r=e.openNav,c=oe(),s=Object(h.a)();return console.log("Navigator rendered"),Object(W.jsxs)(X.a,{variant:"permanent",className:Object(u.a)(c.drawer,(t={},Object(i.a)(t,c.drawerOpen,r),Object(i.a)(t,c.drawerClose,!r),t)),classes:{paper:Object(u.a)((n={},Object(i.a)(n,c.drawerOpen,r),Object(i.a)(n,c.drawerClose,!r),n))},children:[Object(W.jsx)("div",{className:c.toolbar,children:Object(W.jsx)(b.a,{onClick:function(){return a(!1)},children:"rtl"===s.direction?Object(W.jsx)(ne.a,{}):Object(W.jsx)(ee.a,{})})}),Object(W.jsx)(V.a,{}),Object(W.jsxs)($.a,{children:[ie.map((function(e,t){return Object(W.jsx)(se.b,{activeClassName:"activeNav",to:e.path,children:Object(W.jsxs)(ae.a,{button:!0,children:[Object(W.jsx)(re.a,{children:G(e.icon)}),Object(W.jsx)(ce.a,{primary:e.name})]})},t)})),Object(W.jsxs)(ae.a,{button:!0,onClick:function(){return localStorage.removeItem("isLoggedIn"),localStorage.removeItem("employeeName"),localStorage.removeItem("employeeId"),void location.reload()},children:[Object(W.jsx)(re.a,{children:G("Logout")}),Object(W.jsx)(ce.a,{primary:"Logout"})]})]})]})},ue=n(18),de=(n(162),n(217)),je=function(e){return Object(W.jsx)(de.a,Object(l.a)(Object(l.a)({},e),{},{children:e.children}))};je.defaultProps={variant:"outlined"};var be,pe,me=je,fe=n(100),he=n(9),xe=n.n(he),Oe=n(15),ge=n(219),ve=n(222),Se=n(221),Ie=n(220),we=n(218),ye=function(e){var t=e.headerTitle,n=e.children,a=e.textCOnfirm,r=e.textCancel,c=e.handleConfirm,s=e.handleClose,o=e.openModal,i=Object(h.a)(),l=Object(we.a)(i.breakpoints.down("sm"));return console.log("modal executed"),Object(W.jsxs)(ge.a,{fullScreen:l,fullWidth:!0,maxWidth:"md",open:o,onClose:s,"aria-labelledby":"responsive-dialog-title",children:[Object(W.jsx)(Ie.a,{id:"responsive-dialog-title",children:t}),Object(W.jsx)(Se.a,{children:n}),Object(W.jsxs)(ve.a,{children:[Object(W.jsx)(me,{autoFocus:!0,onClick:s,color:"primary",variant:"contained",children:r}),Object(W.jsx)(me,{onClick:c,color:"primary",autoFocus:!0,variant:"contained",children:a})]})]})},De=r.a.memo(ye),Ce=n(232),ke=n(128),Ne=n(82),Te=(n(168),{apiKey:"AIzaSyCLTFKZT0D2t8UuejotDrARyowQ7DAP6oU",authDomain:"guidepro-1816f.firebaseapp.com",projectId:"guidepro-1816f",storageBucket:"guidepro-1816f.appspot.com",messagingSenderId:"51910174014",appId:"1:51910174014:web:24c91898e4f38bf353786f",measurementId:"G-P1DYSS49KV"});be=Ne.a.initializeApp(Te),pe=be.firestore();var Le=function(){var e=Object(Oe.a)(xe.a.mark((function e(t,n){var a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.collection("Users").doc(t).set({empName:n,empId:t});case 3:return a=e.sent,console.log("firestore response",a),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(Oe.a)(xe.a.mark((function e(t){var n,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pe.collection("Users").doc(t),e.next=3,n.get();case 3:if(!(a=e.sent).exists){e.next=8;break}return e.abrupt("return",a.data());case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(Oe.a)(xe.a.mark((function e(t){var n,a,r,c,s,o,i,l;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,a=t.sessionId,r=t.sessionName,c=t.startDate,s=t.startTime,o=t.endDate,i=t.endTime,l=t.ownerName,e.prev=1,e.next=4,pe.collection("Users").doc(n).collection("Sessions").doc(a).set({sessionId:a,sessionName:r,startDate:c,startTime:s,endDate:o,endTime:i,ownerName:l,ownerId:n,status:"off"});case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(e){return pe.collection("Register").doc(e).collection("Participants")},Be=function(){var e=Object(Oe.a)(xe.a.mark((function e(t,n,a){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.collection("Users").doc(t).collection("Sessions").doc(n).update({status:a});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(Oe.a)(xe.a.mark((function e(t,n,a){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.collection("Register").doc(t).collection("Participants").doc(n).set({empId:n,empName:a});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(Oe.a)(xe.a.mark((function e(t,n){var a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.collection("Users").doc(t).collection("Sessions").doc(n).get();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(Oe.a)(xe.a.mark((function e(t,n){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.collection("Register").doc(t).collection("Participants").doc(n).delete();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),Me=function(){var e=Object(Oe.a)(xe.a.mark((function e(t){var n,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.collectionGroup("Sessions").where("ownerId","==",t).orderBy("startDate").get();case 2:return n=e.sent,a=[],void 0===n&&0===n.length||n.forEach((function(e){a.push(e.data())})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=n(20),He=n(231),We=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(new Date),s=Object(o.a)(c,2),i=s[0],u=s[1],d=Object(a.useState)(new Date),j=Object(o.a)(d,2),b=j[0],p=j[1],m=Object(a.useRef)(),f=Object(a.useRef)(),h=Object(a.useCallback)((function(){r(!1)}),[]),x=Object(a.useCallback)((function(){r(!0)}),[]),O=Object(a.useCallback)((function(e){u(e)}),[]),g=Object(a.useCallback)((function(e){p(e)}),[]),v=function(){var e=Object(Oe.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==m.current.value.trim()){e.next=4;break}f.current.innerHTML="Session name cannot be blank !",e.next=17;break;case 4:if(!(new Date(i.toDateString()).getTime()>new Date(b.toDateString()).getTime())){e.next=8;break}f.current.innerHTML="Start date cannot be after end date !",e.next=17;break;case 8:if(!(new Date(i.toDateString()).getTime()<new Date((new Date).toDateString()).getTime())){e.next=12;break}f.current.innerHTML="Start date cannot be a past date !",e.next=17;break;case 12:return f.current.innerHTML="",t={user:localStorage.getItem("employeeId"),ownerName:localStorage.getItem("employeeName"),sessionId:""+(new Date).getTime(),startDate:new Date(i.toDateString()).getTime(),startTime:new Date(i).getTime(),endDate:new Date(b.toDateString()).getTime(),endTime:new Date(b).getTime(),sessionName:m.current.value},e.next=16,Re(Object(l.a)({},t));case 16:h();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(me,{onClick:function(){return x()},variant:"contained",size:"large",color:"primary",children:"Schedule A Session"}),Object(W.jsx)(De,{headerTitle:"Schedule Session",textCOnfirm:"Schedule",textCancel:"Cancel",handleConfirm:v,handleClose:h,openModal:n,children:Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("form",{children:[Object(W.jsxs)(J.a,{display:"flex",flexDirection:"column",children:[Object(W.jsx)(Ce.a,{id:"sessionName",label:"Session Name",multiline:!0,rows:4,variant:"outlined",inputRef:m}),Object(W.jsxs)(ze.a,{utils:ke.a,children:[Object(W.jsx)(He.a,{margin:"normal",id:"startDate",label:"Start Date & Time",value:i,onChange:O,KeyboardButtonProps:{"aria-label":"change date"}}),Object(W.jsx)(He.a,{margin:"normal",id:"endDate",label:"End Date & Time",value:b,onChange:g,KeyboardButtonProps:{"aria-label":"change date"}})]})]}),Object(W.jsx)("div",{ref:f,style:{color:"red"}})]})})})]})},Ge=n(223),Ke=n(224),Ye=n(225),qe=function(){var e=Object(ue.e)(),t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],c=n[1],s=localStorage.getItem("employeeId"),i=function(){var e;(e=new Date((new Date).toDateString()).getTime(),pe.collectionGroup("Sessions").where("startDate","==",e)).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),c(t)}))};Object(a.useEffect)((function(){return i()}),[]);var l=function(){var t=Object(Oe.a)(xe.a.mark((function t(n,a){return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be(s,n,"active");case 2:if(a===s){t.next=5;break}return t.next=5,Pe(n,s,localStorage.getItem("employeeName"));case 5:localStorage.setItem("activeSessionId",n),localStorage.setItem("sessionOwnerId",a),e.push("/SessionRoom");case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(W.jsx)(W.Fragment,{children:r.map((function(e,t){return Object(W.jsxs)(Ge.a,{container:!0,spacing:1,children:[Object(W.jsx)(Ge.a,{item:!0,xs:0,sm:0,className:"timelineY"}),Object(W.jsx)(Ge.a,{item:!0,xs:1,sm:1,className:"timelineX"}),Object(W.jsx)(Ge.a,{item:!0,xs:10,sm:10,children:Object(W.jsxs)(J.a,{mb:2,display:"flex",flexDirection:"column",children:[Object(W.jsxs)(J.a,{display:"flex",flexDirection:"row",children:[G("AccessAlarmIcon",{color:"disabled"}),Object(W.jsxs)(m.a,{style:{color:"#797979"},variant:"button",gutterBottom:!0,children:[q(new Date(e.startTime).toTimeString().split(" ")[0])," ","-"," ",q(new Date(e.endTime).toTimeString().split(" ")[0])]})]}),Object(W.jsxs)(Ke.a,{elevation:2,children:[Object(W.jsx)(Ye.a,{avatar:Object(W.jsx)(p.a,{variant:"rounded","aria-label":"recipe",children:"R"}),title:e.sessionName,subheader:e.ownerName}),Object(W.jsxs)(J.a,{display:"flex",flexDirection:"row",justifyContent:"flex-end",pb:1,pr:1,children:["active"===e.status?Object(W.jsxs)(J.a,{display:"flex",justifyContent:"justify-center",p:1,children:[G("Dot",{color:"error"})," ","Live"]}):null,s===e.ownerId?Object(W.jsx)(me,{variant:"contained",color:"primary",disabled:"active"===e.status||"closed"===e.status||"expired"===e.status,onClick:function(){return l(e.sessionId,e.ownerId)},children:"off"===e.status?"Start Session":"expired"===e.status?"Session Expired":"closed"===e.status?"Closed":"Active"}):Object(W.jsx)(me,{variant:"contained",color:"primary",disabled:"expired"===e.status||"closed"===e.status||"off"===e.status,onClick:function(){return l(e.sessionId,e.ownerId)},children:"off"===e.status||"active"===e.status?"Join Session":"expired"===e.status?"Session Expired":"Session Closed"})]})]})]})})]},t)}))})},Je=function(){return console.log("Home executed"),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(fe.a,{children:Object(W.jsxs)(J.a,{display:"flex",flexDirection:"column",mx:"auto",px:2,pb:2,justifyContent:"center",children:[Object(W.jsx)("p",{children:"Schedule a new session as you plan to host"}),Object(W.jsx)(We,{})]})}),K("Today's Sessions"),Object(W.jsxs)(J.a,{mb:2,display:"flex",flexDirection:"row",children:[G("DateRangeIcon"),Object(W.jsx)(m.a,{gutterBottom:!0,children:(new Date).toDateString()})]}),Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(qe,{})})]})},Ze=n(226),Qe=function(e){var t=e.sessionId,n=Object(a.useState)([]),r=Object(o.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(a.useState)(),p=Object(o.a)(j,2),m=p[0],f=p[1],h=function(){var e=Object(Oe.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(t,m);case 2:d(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(e){Ee(e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),s(t)}))}(t)}),[t]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)($.a,{style:{paddingTop:0},children:c.map((function(e,t){return Object(W.jsxs)(J.a,{children:[Object(W.jsx)(V.a,{}),Object(W.jsxs)(ae.a,{style:{paddingLeft:0},children:[e.empName,Object(W.jsx)(Ze.a,{onClick:function(){return t=e.empId,f(t),void d(!0);var t},children:Object(W.jsx)(b.a,{edge:"end","aria-label":"delete",children:G("RemoveUser",{color:"error"})})})]}),Object(W.jsx)(V.a,{})]},t)}))}),Object(W.jsx)(De,{headerTitle:"Mark Absent",textCOnfirm:"Confirm",textCancel:"Cancel",handleConfirm:function(){return h()},handleClose:function(){return d(!1)},openModal:u,children:Object(W.jsx)(W.Fragment,{children:"Are you sure you want to remove the participant from session? This will mark the participant as absent."})})]})},Xe=function(){var e=Object(a.useState)("Stop"),t=Object(o.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){}),[n]);return Object(W.jsxs)(me,{size:"small",variant:"contained",color:"secondary",onClick:function(){return Be(localStorage.getItem("sessionOwnerId"),localStorage.getItem("activeSessionId"),"Stop"===n?"expired":"active"),void r("Stop"===n?"Start":"Stop")},children:[n," Attendance"]})},Ve=function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(ue.e)(),s=Object(a.useCallback)(Object(Oe.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("activeSessionId")||!localStorage.getItem("sessionOwnerId")){e.next=5;break}return e.next=3,Ue(localStorage.getItem("sessionOwnerId"),localStorage.getItem("activeSessionId"));case 3:"active"===(t=e.sent).data().status||"expired"===t.data().status?(r(t.data()),l()):"off"===t.data().status?(localStorage.removeItem("sessionOwnerId"),localStorage.removeItem("activeSessionId")):"closed"===t.data().status&&(r({}),(localStorage.getItem("sessionOwnerId")||localStorage.getItem("activeSessionId"))&&(localStorage.removeItem("sessionOwnerId"),localStorage.removeItem("activeSessionId")));case 5:case"end":return e.stop()}}),e)}))),[]),i=function(){r({}),localStorage.removeItem("activeSessionId"),localStorage.removeItem("sessionOwnerId"),c.push("/Home")},l=function(){var e,t;(e=localStorage.getItem("sessionOwnerId"),t=localStorage.getItem("activeSessionId"),pe.collection("Users").doc(e).collection("Sessions").doc(t)).onSnapshot((function(e){"closed"===e.data().status&&i()}))},u=function(){var e=Object(Oe.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(localStorage.getItem("sessionOwnerId"),localStorage.getItem("activeSessionId"),"closed");case 2:i();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(Oe.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(localStorage.getItem("activeSessionId"),localStorage.getItem("employeeId"));case 2:i();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return s()}),[s]),Object(a.useEffect)((function(){localStorage.getItem("sessionOwnerId")&&localStorage.getItem("sessionOwnerId")!==localStorage.getItem("employeeId")&&Ee(localStorage.getItem("activeSessionId")).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data().empId)})),void 0===t.find((function(e){return e===localStorage.getItem("employeeId")}))&&i()}))}),[]),0===Object.keys(n).length?Object(W.jsx)(W.Fragment,{children:"You have not joined any active session or the session is yet to be started by the host."}):Object(W.jsxs)(W.Fragment,{children:[localStorage.getItem("sessionOwnerId")===localStorage.getItem("employeeId")?Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(me,{size:"small",variant:"contained",color:"secondary",onClick:function(){return u()},children:"Stop Session"})}):Object(W.jsxs)(J.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(W.jsxs)(J.a,{display:"flex",justifyContent:"justify-center",p:1,children:[G("Dot",{color:"error"})," ","Live"]}),Object(W.jsx)(me,{size:"small",variant:"contained",color:"secondary",onClick:function(){return d()},children:"Exit Session"})]}),K("Session Details"),Object(W.jsxs)(Ke.a,{elevation:2,children:[Object(W.jsx)(Ye.a,{avatar:Object(W.jsx)(p.a,{variant:"rounded","aria-label":"recipe",children:"R"}),title:n.sessionName,subheader:n.ownerName}),Object(W.jsx)(J.a,{display:"flex",flexDirection:"row",justifyContent:"flex-end",pb:1,pr:1})]}),K("Session Quiz"),Object(W.jsx)(W.Fragment,{children:"No quizes allocated till now."}),localStorage.getItem("sessionOwnerId")===localStorage.getItem("employeeId")?Object(W.jsxs)(W.Fragment,{children:[K("Participants"),Object(W.jsx)(Xe,{}),Object(W.jsx)(J.a,{mt:1,children:Object(W.jsx)(Qe,{sessionId:n.sessionId})})]}):null]})},$e=n(129),_e=n(227),et=n(126),tt=n.n(et),nt=function(e){var t=e.session,n=e.handleClose,a=e.open,r=e.pList,c=t.sessionName,s=t.startTime,o=t.endTime,i=t.startDate;return Object(W.jsxs)(ge.a,{fullScreen:!0,open:a,onClose:n,children:[Object(W.jsx)(d.a,{children:Object(W.jsx)(j.a,{children:Object(W.jsx)(b.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close",children:Object(W.jsx)(tt.a,{})})})}),Object(W.jsx)(J.a,{mt:8,children:Object(W.jsxs)(Se.a,{children:[Y("Session Details"),Object(W.jsxs)(J.a,{children:[Object(W.jsx)("h4",{children:c}),Object(W.jsx)(J.a,{children:new Date(i).toDateString()}),Object(W.jsxs)(m.a,{style:{color:"#797979"},variant:"button",gutterBottom:!0,children:[q(new Date(s).toTimeString().split(" ")[0])," ","-"," ",q(new Date(o).toTimeString().split(" ")[0])]})]}),K("Participants ("+r.length+")"),0!==r.length?Object(W.jsx)(W.Fragment,{children:r.map((function(e,t){return Object(W.jsxs)($.a,{children:[Object(W.jsxs)(ae.a,{style:{paddingLeft:0,paddingRight:30},children:[G("User"),Object(W.jsx)("span",{style:{paddingLeft:5},children:e.empName})]}),Object(W.jsx)(V.a,{})]},t)}))}):Object(W.jsx)(W.Fragment,{children:" No participants"})]})})]})},at=function(e){var t=e.session,n=Object(a.useState)(!1),r=Object(o.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)([]),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(a.useCallback)(function(){var e=Object(Oe.a)(xe.a.mark((function e(t){var n,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(t).get();case 2:n=e.sent,a=[],n.forEach((function(e){a.push(e.data())})),d(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),b=function(){var e=Object(Oe.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.sessionId);case 2:s(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Ze.a,{style:{right:0},onClick:function(){return b()},children:G("Details")}),Object(W.jsx)(nt,{session:t,open:c,handleClose:function(){return s(!1)},pList:u})]})},rt=function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(Oe.a)(xe.a.mark((function e(){var t,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(localStorage.getItem("employeeId"));case 2:t=e.sent,n={},0!==t.length&&t.forEach((function(e){n[e.startDate]?n[e.startDate]=[].concat(Object($e.a)(n[e.startDate]),[e]):n[e.startDate]=[e]})),r(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return c()}),[]),Object(W.jsx)(W.Fragment,{children:0!==Object.keys(n).length?Object(W.jsx)(W.Fragment,{children:Object.keys(n).reverse().map((function(e,t){return Object(W.jsxs)(J.a,{children:[Y(new Date(Number(e)).toDateString()),Object(W.jsx)($.a,{children:n[e].map((function(e,t){return Object(W.jsxs)(J.a,{children:[Object(W.jsxs)(ae.a,{style:{paddingLeft:0,paddingRight:30},children:[Object(W.jsx)(_e.a,{style:{minWidth:35},children:G("Session")}),e.sessionName,Object(W.jsx)(at,{session:e})]}),Object(W.jsx)(V.a,{})]},t)}))})]},t)}))}):Object(W.jsx)(W.Fragment,{children:"You have not hosted any sessions yet."})})},ct=r.a.createContext(),st=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(o.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){localStorage.getItem("isLoggedIn")&&s(!0)}),[]),Object(W.jsx)(ct.Provider,{value:{isLoggedIn:c,onLogin:function(e,t){localStorage.setItem("isLoggedIn",!0),localStorage.setItem("employeeName",e),localStorage.setItem("employeeId",t),s(!0)},onLogOut:function(){s(!1)}},children:t})},ot=ct,it=Object(f.a)((function(e){return{toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(2)}}})),lt=function(e){e.onLogoutFunc;var t=it();Object(h.a)(),Object(a.useContext)(ot);return Object(W.jsxs)("main",{className:t.content,children:[Object(W.jsx)("div",{className:t.toolbar}),Object(W.jsx)(ue.a,{path:"/Home",exact:!0,children:Object(W.jsx)(Je,{})}),Object(W.jsx)(ue.a,{path:"/SessionRoom",exact:!0,children:Object(W.jsx)(Ve,{})}),Object(W.jsx)(ue.a,{path:"/Report",exact:!0,children:Object(W.jsx)(rt,{})}),Object(W.jsx)(ue.a,{path:"/",exact:!0,children:Object(W.jsx)(Je,{})})]})},ut=(n(165),function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=function(e){console.log(e),r(e)};return console.log("Landing rendered"),Object(W.jsxs)("div",{className:"landingPage",children:[Object(W.jsx)(Q,{handleNavigation:function(e){return c(e)},openNav:n}),Object(W.jsx)(le,{handleNavigation:function(e){return c(e)},openNav:n}),Object(W.jsx)(lt,{})]})}),dt=n(230),jt=n(228),bt=n(127),pt=n.n(bt),mt=n(229);function ft(){return Object(W.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(W.jsx)(jt.a,{color:"inherit",href:"https://github.com/joyjd/st",children:"GuidePRO"})," ",(new Date).getFullYear(),"."]})}var ht=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),xt=function(e){var t=e.onLoginFunc,n=ht(),r=Object(a.useRef)(),c=Object(a.useRef)(),s=function(){var e=Object(Oe.a)(xe.a.mark((function e(n){var a,s,o;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=r.current.value,s=c.current.value,e.next=5,Fe(s);case 5:if(void 0!==(o=e.sent)){e.next=12;break}return e.next=9,Le(s,a);case 9:t(a,s),e.next=13;break;case 12:t(o.empName,o.empId);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)(mt.a,{component:"main",maxWidth:"xs",children:[Object(W.jsx)(dt.a,{}),Object(W.jsxs)("div",{className:n.paper,children:[Object(W.jsx)(p.a,{className:n.avatar,children:Object(W.jsx)(pt.a,{})}),Object(W.jsx)(m.a,{component:"h1",variant:"h5",children:"Log in"}),Object(W.jsxs)("form",{onSubmit:s,className:n.form,children:[Object(W.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Employee Name",name:"Name",inputRef:r,autoFocus:!0}),Object(W.jsx)(Ce.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Employee Id",label:"Employee Id",id:"empId",inputRef:c}),Object(W.jsx)(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Log In"})]})]}),Object(W.jsx)(J.a,{mt:8,children:Object(W.jsx)(ft,{})})]})},Ot=function(){var e=Object(a.useContext)(ot);return e.isLoggedIn?Object(W.jsx)(ut,{onLogoutFunc:e.onLogOut}):Object(W.jsx)(xt,{onLoginFunc:e.onLogin})},gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(W.jsx)(r.a.StrictMode,{children:Object(W.jsx)(st,{children:Object(W.jsx)(se.a,{children:Object(W.jsx)(Ot,{})})})}),document.getElementById("root")),gt()}},[[166,1,2]]]);
//# sourceMappingURL=main.72599396.chunk.js.map