(this.webpackJsonpst=this.webpackJsonpst||[]).push([[0],{153:function(e,t,n){},154:function(e,t,n){},159:function(e,t,n){},161:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),s=n.n(c),i=(n(153),n(154),n(17)),o=n(41),l=n(40),u=n(5),d=n(208),j=n(209),b=n(210),p=n(47),m=n(207),f=n(31),h=n(109),O=n.n(h),x=n(113),g=n.n(x),v=n(114),S=n.n(v),I=n(115),w=n.n(I),y=n(116),D=n.n(y),C=n(117),k=n.n(C),N=n(118),T=n.n(N),F=n(119),R=n.n(F),L=n(120),E=n.n(L),B=n(121),P=n.n(B),A=n(122),U=n.n(A),M=n(3),z=function(e,t){var n={MenuIcon:O.a,ComputerIcon:g.a,DashboardIcon:S.a,AssignmentIcon:w.a,DateRangeIcon:D.a,AccessAlarmIcon:k.a,Dot:T.a,RemoveUser:R.a,Details:E.a,Session:P.a,User:U.a}[e];return Object(M.jsx)(n,Object(l.a)({},t))},H=function(e){return Object(M.jsx)("div",{className:"textBg",children:Object(M.jsx)("div",{children:e})})},W=function(e){return Object(M.jsx)("div",{className:"textSm",children:Object(M.jsx)("div",{children:e})})},G=function(e){return new Date("1970-01-01T"+e+"Z").toLocaleTimeString({},{timeZone:"UTC",hour12:!0,hour:"numeric",minute:"numeric"})},K=Object(m.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)}})),Y=function(e){var t=e.handleNavigation,n=e.openNav,a=K();Object(f.a)();return console.log("Header rendered"),Object(M.jsx)(d.a,{position:"fixed",className:Object(u.a)(a.appBar,Object(o.a)({},a.appBarShift,n)),children:Object(M.jsxs)(j.a,{children:[Object(M.jsx)(b.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return t(!0)},edge:"start",className:Object(u.a)(a.menuButton,Object(o.a)({},a.hide,n)),children:z("MenuIcon")}),Object(M.jsxs)(p.a,{variant:"h6",noWrap:!0,children:["GuidePRO, ",localStorage.getItem("employeeName")]})]})})},q=n(234),J=n(211),Z=n(212),Q=n(124),X=n.n(Q),V=n(123),$=n.n(V),_=n(213),ee=n(214),te=n(215),ne=n(50),ae=(n(159),Object(m.a)((function(e){return{drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(o.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1})}}))),re=[{name:"Home",path:"/Home",icon:"DashboardIcon"},{name:"Session Room",path:"/SessionRoom",icon:"ComputerIcon"},{name:"My Reports",path:"/Report",icon:"AssignmentIcon"}],ce=function(e){var t,n,a=e.handleNavigation,r=e.openNav,c=ae(),s=Object(f.a)();return console.log("Navigator rendered"),Object(M.jsxs)(q.a,{variant:"permanent",className:Object(u.a)(c.drawer,(t={},Object(o.a)(t,c.drawerOpen,r),Object(o.a)(t,c.drawerClose,!r),t)),classes:{paper:Object(u.a)((n={},Object(o.a)(n,c.drawerOpen,r),Object(o.a)(n,c.drawerClose,!r),n))},children:[Object(M.jsx)("div",{className:c.toolbar,children:Object(M.jsx)(b.a,{onClick:function(){return a(!1)},children:"rtl"===s.direction?Object(M.jsx)($.a,{}):Object(M.jsx)(X.a,{})})}),Object(M.jsx)(J.a,{}),Object(M.jsx)(Z.a,{children:re.map((function(e,t){return Object(M.jsx)(ne.b,{activeClassName:"activeNav",to:e.path,children:Object(M.jsxs)(_.a,{button:!0,children:[Object(M.jsx)(ee.a,{children:z(e.icon)}),Object(M.jsx)(te.a,{primary:e.name})]})},t)}))})]})},se=n(18),ie=(n(161),n(216)),oe=function(e){return Object(M.jsx)(ie.a,Object(l.a)(Object(l.a)({},e),{},{children:e.children}))};oe.defaultProps={variant:"outlined"};var le,ue,de=oe,je=n(99),be=n(232),pe=n(9),me=n.n(pe),fe=n(15),he=n(218),Oe=n(221),xe=n(220),ge=n(219),ve=n(217),Se=function(e){var t=e.headerTitle,n=e.children,a=e.textCOnfirm,r=e.textCancel,c=e.handleConfirm,s=e.handleClose,i=e.openModal,o=Object(f.a)(),l=Object(ve.a)(o.breakpoints.down("sm"));return console.log("modal executed"),Object(M.jsxs)(he.a,{fullScreen:l,fullWidth:!0,maxWidth:"md",open:i,onClose:s,"aria-labelledby":"responsive-dialog-title",children:[Object(M.jsx)(ge.a,{id:"responsive-dialog-title",children:t}),Object(M.jsx)(xe.a,{children:n}),Object(M.jsxs)(Oe.a,{children:[Object(M.jsx)(de,{autoFocus:!0,onClick:s,color:"primary",variant:"contained",children:r}),Object(M.jsx)(de,{onClick:c,color:"primary",autoFocus:!0,variant:"contained",children:a})]})]})},Ie=r.a.memo(Se),we=n(231),ye=n(127),De=n(82),Ce=(n(167),{apiKey:"AIzaSyCLTFKZT0D2t8UuejotDrARyowQ7DAP6oU",authDomain:"guidepro-1816f.firebaseapp.com",projectId:"guidepro-1816f",storageBucket:"guidepro-1816f.appspot.com",messagingSenderId:"51910174014",appId:"1:51910174014:web:24c91898e4f38bf353786f",measurementId:"G-P1DYSS49KV"});le=De.a.initializeApp(Ce),ue=le.firestore();var ke=function(){var e=Object(fe.a)(me.a.mark((function e(t,n){var a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.collection("Users").doc(t).set({empName:n,empId:t});case 3:return a=e.sent,console.log("firestore response",a),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(fe.a)(me.a.mark((function e(t){var n,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ue.collection("Users").doc(t),e.next=3,n.get();case 3:if(!(a=e.sent).exists){e.next=8;break}return e.abrupt("return",a.data());case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(fe.a)(me.a.mark((function e(t){var n,a,r,c,s,i,o,l;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,a=t.sessionId,r=t.sessionName,c=t.startDate,s=t.startTime,i=t.endDate,o=t.endTime,l=t.ownerName,e.prev=1,e.next=4,ue.collection("Users").doc(n).collection("Sessions").doc(a).set({sessionId:a,sessionName:r,startDate:c,startTime:s,endDate:i,endTime:o,ownerName:l,ownerId:n,status:"off"});case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(e){return ue.collection("Register").doc(e).collection("Participants")},Re=function(){var e=Object(fe.a)(me.a.mark((function e(t,n,a){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.collection("Users").doc(t).collection("Sessions").doc(n).update({status:a});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Le=function(){var e=Object(fe.a)(me.a.mark((function e(t,n,a){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.collection("Register").doc(t).collection("Participants").doc(n).set({empId:n,empName:a});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(fe.a)(me.a.mark((function e(t,n){var a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.collection("Users").doc(t).collection("Sessions").doc(n).get();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(fe.a)(me.a.mark((function e(t,n){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.collection("Register").doc(t).collection("Participants").doc(n).delete();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(fe.a)(me.a.mark((function e(t){var n,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.collectionGroup("Sessions").where("ownerId","==",t).orderBy("startDate").get();case 2:return n=e.sent,a=[],void 0===n&&0===n.length||n.forEach((function(e){a.push(e.data())})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=n(20),Ue=n(230),Me=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(new Date),s=Object(i.a)(c,2),o=s[0],u=s[1],d=Object(a.useState)(new Date),j=Object(i.a)(d,2),b=j[0],p=j[1],m=Object(a.useRef)(),f=Object(a.useRef)(),h=Object(a.useCallback)((function(){r(!1)}),[]),O=Object(a.useCallback)((function(){r(!0)}),[]),x=Object(a.useCallback)((function(e){u(e)}),[]),g=Object(a.useCallback)((function(e){p(e)}),[]),v=function(){var e=Object(fe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==m.current.value.trim()){e.next=4;break}f.current.innerHTML="Session name cannot be blank !",e.next=17;break;case 4:if(!(new Date(o.toDateString()).getTime()>new Date(b.toDateString()).getTime())){e.next=8;break}f.current.innerHTML="Start date cannot be after end date !",e.next=17;break;case 8:if(!(new Date(o.toDateString()).getTime()<(new Date).getTime())){e.next=12;break}f.current.innerHTML="Start date cannot be a past date !",e.next=17;break;case 12:return f.current.innerHTML="",t={user:localStorage.getItem("employeeId"),ownerName:localStorage.getItem("employeeName"),sessionId:""+(new Date).getTime(),startDate:new Date(o.toDateString()).getTime(),startTime:new Date(o).getTime(),endDate:new Date(b.toDateString()).getTime(),endTime:new Date(b).getTime(),sessionName:m.current.value},e.next=16,Te(Object(l.a)({},t));case 16:h();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(de,{onClick:function(){return O()},variant:"contained",size:"large",color:"primary",children:"Schedule A Session"}),Object(M.jsx)(Ie,{headerTitle:"Schedule Session",textCOnfirm:"Schedule",textCancel:"Cancel",handleConfirm:v,handleClose:h,openModal:n,children:Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("form",{children:[Object(M.jsxs)(be.a,{display:"flex",flexDirection:"column",children:[Object(M.jsx)(we.a,{id:"sessionName",label:"Session Name",multiline:!0,rows:4,variant:"outlined",inputRef:m}),Object(M.jsxs)(Ae.a,{utils:ye.a,children:[Object(M.jsx)(Ue.a,{margin:"normal",id:"startDate",label:"Start Date & Time",value:o,onChange:x,KeyboardButtonProps:{"aria-label":"change date"}}),Object(M.jsx)(Ue.a,{margin:"normal",id:"endDate",label:"End Date & Time",value:b,onChange:g,KeyboardButtonProps:{"aria-label":"change date"}})]})]}),Object(M.jsx)("div",{ref:f,style:{color:"red"}})]})})})]})},ze=n(222),He=n(223),We=n(224),Ge=n(233),Ke=function(){var e=Object(se.e)(),t=Object(a.useState)([]),n=Object(i.a)(t,2),r=n[0],c=n[1],s=localStorage.getItem("employeeId"),o=function(){var e;(e=new Date((new Date).toDateString()).getTime(),ue.collectionGroup("Sessions").where("startDate","==",e)).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),c(t)}))};Object(a.useEffect)((function(){return o()}),[]);var l=function(){var t=Object(fe.a)(me.a.mark((function t(n,a){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Re(s,n,"active");case 2:if(a===s){t.next=5;break}return t.next=5,Le(n,s,localStorage.getItem("employeeName"));case 5:localStorage.setItem("activeSessionId",n),localStorage.setItem("sessionOwnerId",a),e.push("/SessionRoom");case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(M.jsx)(M.Fragment,{children:r.map((function(e,t){return Object(M.jsxs)(ze.a,{container:!0,spacing:1,children:[Object(M.jsx)(ze.a,{item:!0,xs:0,sm:0,className:"timelineY"}),Object(M.jsx)(ze.a,{item:!0,xs:1,sm:1,className:"timelineX"}),Object(M.jsx)(ze.a,{item:!0,xs:10,sm:10,children:Object(M.jsxs)(be.a,{mb:2,display:"flex",flexDirection:"column",children:[Object(M.jsxs)(be.a,{display:"flex",flexDirection:"row",children:[z("AccessAlarmIcon",{color:"disabled"}),Object(M.jsxs)(p.a,{style:{color:"#797979"},variant:"button",gutterBottom:!0,children:[G(new Date(e.startTime).toTimeString().split(" ")[0])," ","-"," ",G(new Date(e.endTime).toTimeString().split(" ")[0])]})]}),Object(M.jsxs)(He.a,{elevation:2,children:[Object(M.jsx)(We.a,{avatar:Object(M.jsx)(Ge.a,{variant:"rounded","aria-label":"recipe",children:"R"}),title:e.sessionName,subheader:e.ownerName}),Object(M.jsxs)(be.a,{display:"flex",flexDirection:"row",justifyContent:"flex-end",pb:1,pr:1,children:["active"===e.status?Object(M.jsxs)(be.a,{display:"flex",justifyContent:"justify-center",p:1,children:[z("Dot",{color:"error"})," ","Live"]}):null,s===e.ownerId?Object(M.jsx)(de,{variant:"contained",color:"primary",disabled:"active"===e.status||"closed"===e.status||"expired"===e.status,onClick:function(){return l(e.sessionId,e.ownerId)},children:"off"===e.status?"Start Session":"expired"===e.status?"Session Expired":"closed"===e.status?"Closed":"Active"}):Object(M.jsx)(de,{variant:"contained",color:"primary",disabled:"expired"===e.status||"closed"===e.status||"off"===e.status,onClick:function(){return l(e.sessionId,e.ownerId)},children:"off"===e.status||"active"===e.status?"Join Session":"expired"===e.status?"Session Expired":"Session Closed"})]})]})]})})]},t)}))})},Ye=function(){return console.log("Home executed"),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(je.a,{children:Object(M.jsxs)(be.a,{display:"flex",flexDirection:"column",mx:"auto",px:2,pb:2,justifyContent:"center",children:[Object(M.jsx)("p",{children:"Schedule a new session as you plan to host"}),Object(M.jsx)(Me,{})]})}),H("Today's Sessions"),Object(M.jsxs)(be.a,{mb:2,display:"flex",flexDirection:"row",children:[z("DateRangeIcon"),Object(M.jsx)(p.a,{gutterBottom:!0,children:(new Date).toDateString()})]}),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(Ke,{})})]})},qe=n(225),Je=function(e){var t=e.sessionId,n=Object(a.useState)([]),r=Object(i.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(!1),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(),p=Object(i.a)(j,2),m=p[0],f=p[1],h=function(){var e=Object(fe.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(t,m);case 2:d(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(e){Fe(e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),s(t)}))}(t)}),[t]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Z.a,{style:{paddingTop:0},children:c.map((function(e,t){return Object(M.jsxs)(be.a,{children:[Object(M.jsx)(J.a,{}),Object(M.jsxs)(_.a,{style:{paddingLeft:0},children:[e.empName,Object(M.jsx)(qe.a,{onClick:function(){return t=e.empId,f(t),void d(!0);var t},children:Object(M.jsx)(b.a,{edge:"end","aria-label":"delete",children:z("RemoveUser",{color:"error"})})})]}),Object(M.jsx)(J.a,{})]},t)}))}),Object(M.jsx)(Ie,{headerTitle:"Mark Absent",textCOnfirm:"Confirm",textCancel:"Cancel",handleConfirm:function(){return h()},handleClose:function(){return d(!1)},openModal:u,children:Object(M.jsx)(M.Fragment,{children:"Are you sure you want to remove the participant from session? This will mark the participant as absent."})})]})},Ze=function(){var e=Object(a.useState)("Stop"),t=Object(i.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){}),[n]);return Object(M.jsxs)(de,{size:"small",variant:"contained",color:"secondary",onClick:function(){return Re(localStorage.getItem("sessionOwnerId"),localStorage.getItem("activeSessionId"),"Stop"===n?"expired":"active"),void r("Stop"===n?"Start":"Stop")},children:[n," Attendance"]})},Qe=function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(se.e)(),s=Object(a.useCallback)(Object(fe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("activeSessionId")||!localStorage.getItem("sessionOwnerId")){e.next=5;break}return e.next=3,Ee(localStorage.getItem("sessionOwnerId"),localStorage.getItem("activeSessionId"));case 3:"active"===(t=e.sent).data().status||"expired"===t.data().status?(r(t.data()),l()):"off"===t.data().status?(localStorage.removeItem("sessionOwnerId"),localStorage.removeItem("activeSessionId")):"closed"===t.data().status&&(r({}),(localStorage.getItem("sessionOwnerId")||localStorage.getItem("activeSessionId"))&&(localStorage.removeItem("sessionOwnerId"),localStorage.removeItem("activeSessionId")));case 5:case"end":return e.stop()}}),e)}))),[]),o=function(){r({}),localStorage.removeItem("activeSessionId"),localStorage.removeItem("sessionOwnerId"),c.push("/Home")},l=function(){var e,t;(e=localStorage.getItem("sessionOwnerId"),t=localStorage.getItem("activeSessionId"),ue.collection("Users").doc(e).collection("Sessions").doc(t)).onSnapshot((function(e){"closed"===e.data().status&&o()}))},u=function(){var e=Object(fe.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(localStorage.getItem("sessionOwnerId"),localStorage.getItem("activeSessionId"),"closed");case 2:o();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(fe.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(localStorage.getItem("activeSessionId"),localStorage.getItem("employeeId"));case 2:o();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return s()}),[s]),Object(a.useEffect)((function(){localStorage.getItem("sessionOwnerId")&&localStorage.getItem("sessionOwnerId")!==localStorage.getItem("employeeId")&&Fe(localStorage.getItem("activeSessionId")).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data().empId)})),void 0===t.find((function(e){return e===localStorage.getItem("employeeId")}))&&o()}))}),[]),0===Object.keys(n).length?Object(M.jsx)(M.Fragment,{children:"You have not joined any active session or the session is yet to be started by the host."}):Object(M.jsxs)(M.Fragment,{children:[localStorage.getItem("sessionOwnerId")===localStorage.getItem("employeeId")?Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(de,{size:"small",variant:"contained",color:"secondary",onClick:function(){return u()},children:"Stop Session"})}):Object(M.jsxs)(be.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(M.jsxs)(be.a,{display:"flex",justifyContent:"justify-center",p:1,children:[z("Dot",{color:"error"})," ","Live"]}),Object(M.jsx)(de,{size:"small",variant:"contained",color:"secondary",onClick:function(){return d()},children:"Exit Session"})]}),H("Session Details"),Object(M.jsxs)(He.a,{elevation:2,children:[Object(M.jsx)(We.a,{avatar:Object(M.jsx)(Ge.a,{variant:"rounded","aria-label":"recipe",children:"R"}),title:n.sessionName,subheader:n.ownerName}),Object(M.jsx)(be.a,{display:"flex",flexDirection:"row",justifyContent:"flex-end",pb:1,pr:1})]}),H("Session Quiz"),Object(M.jsx)(M.Fragment,{children:"No quizes allocated till now."}),localStorage.getItem("sessionOwnerId")===localStorage.getItem("employeeId")?Object(M.jsxs)(M.Fragment,{children:[H("Participants"),Object(M.jsx)(Ze,{}),Object(M.jsx)(be.a,{mt:1,children:Object(M.jsx)(Je,{sessionId:n.sessionId})})]}):null]})},Xe=n(128),Ve=n(226),$e=n(125),_e=n.n($e),et=function(e){var t=e.session,n=e.handleClose,a=e.open,r=e.pList,c=t.sessionName,s=t.startTime,i=t.endTime,o=t.startDate;return Object(M.jsxs)(he.a,{fullScreen:!0,open:a,onClose:n,children:[Object(M.jsx)(d.a,{children:Object(M.jsx)(j.a,{children:Object(M.jsx)(b.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close",children:Object(M.jsx)(_e.a,{})})})}),Object(M.jsx)(be.a,{mt:8,children:Object(M.jsxs)(xe.a,{children:[W("Session Details"),Object(M.jsxs)(be.a,{children:[Object(M.jsx)("h4",{children:c}),Object(M.jsx)(be.a,{children:new Date(o).toDateString()}),Object(M.jsxs)(p.a,{style:{color:"#797979"},variant:"button",gutterBottom:!0,children:[G(new Date(s).toTimeString().split(" ")[0])," ","-"," ",G(new Date(i).toTimeString().split(" ")[0])]})]}),H("Participants ("+r.length+")"),0!==r.length?Object(M.jsx)(M.Fragment,{children:r.map((function(e,t){return Object(M.jsxs)(Z.a,{children:[Object(M.jsxs)(_.a,{style:{paddingLeft:0,paddingRight:30},children:[z("User"),Object(M.jsx)("span",{style:{paddingLeft:5},children:e.empName})]}),Object(M.jsx)(J.a,{})]},t)}))}):Object(M.jsx)(M.Fragment,{children:" No participants"})]})})]})},tt=function(e){var t=e.session,n=Object(a.useState)(!1),r=Object(i.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)([]),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(a.useCallback)(function(){var e=Object(fe.a)(me.a.mark((function e(t){var n,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t).get();case 2:n=e.sent,a=[],n.forEach((function(e){a.push(e.data())})),d(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),b=function(){var e=Object(fe.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.sessionId);case 2:s(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(qe.a,{style:{right:0},onClick:function(){return b()},children:z("Details")}),Object(M.jsx)(et,{session:t,open:c,handleClose:function(){return s(!1)},pList:u})]})},nt=function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(fe.a)(me.a.mark((function e(){var t,n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(localStorage.getItem("employeeId"));case 2:t=e.sent,n={},0!==t.length&&t.forEach((function(e){n[e.startDate]?n[e.startDate]=[].concat(Object(Xe.a)(n[e.startDate]),[e]):n[e.startDate]=[e]})),r(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return c()}),[]),Object(M.jsx)(M.Fragment,{children:0!==Object.keys(n).length?Object(M.jsx)(M.Fragment,{children:Object.keys(n).reverse().map((function(e,t){return Object(M.jsxs)(be.a,{children:[W(new Date(Number(e)).toDateString()),Object(M.jsx)(Z.a,{children:n[e].map((function(e,t){return Object(M.jsxs)(be.a,{children:[Object(M.jsxs)(_.a,{style:{paddingLeft:0,paddingRight:30},children:[Object(M.jsx)(Ve.a,{style:{minWidth:35},children:z("Session")}),e.sessionName,Object(M.jsx)(tt,{session:e})]}),Object(M.jsx)(J.a,{})]},t)}))})]},t)}))}):Object(M.jsx)(M.Fragment,{children:"You have not hosted any sessions yet."})})},at=Object(m.a)((function(e){return{toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(2)}}})),rt=function(){var e=at();Object(f.a)();return Object(M.jsxs)("main",{className:e.content,children:[Object(M.jsx)("div",{className:e.toolbar}),Object(M.jsx)(se.a,{path:"/Home",children:Object(M.jsx)(Ye,{})}),Object(M.jsx)(se.a,{path:"/SessionRoom",children:Object(M.jsx)(Qe,{})}),Object(M.jsx)(se.a,{path:"/Report",children:Object(M.jsx)(nt,{})})]})},ct=(n(164),function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=function(e){console.log(e),r(e)};return console.log("Landing rendered"),Object(M.jsxs)("div",{className:"landingPage",children:[Object(M.jsx)(Y,{handleNavigation:function(e){return c(e)},openNav:n}),Object(M.jsx)(ce,{handleNavigation:function(e){return c(e)},openNav:n}),Object(M.jsx)(rt,{})]})}),st=n(229),it=n(227),ot=n(126),lt=n.n(ot),ut=n(228);function dt(){return Object(M.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(M.jsx)(it.a,{color:"inherit",href:"https://github.com/joyjd/st",children:"GuidePRO"})," ",(new Date).getFullYear(),"."]})}var jt=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),bt=function(e){var t=e.onLoginFunc,n=jt(),r=Object(a.useRef)(),c=Object(a.useRef)(),s=function(){var e=Object(fe.a)(me.a.mark((function e(n){var a,s,i;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=r.current.value,s=c.current.value,e.next=5,Ne(s);case 5:if(void 0!==(i=e.sent)){e.next=12;break}return e.next=9,ke(s,a);case 9:t(a,s),e.next=13;break;case 12:t(i.empName,i.empId);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)(ut.a,{component:"main",maxWidth:"xs",children:[Object(M.jsx)(st.a,{}),Object(M.jsxs)("div",{className:n.paper,children:[Object(M.jsx)(Ge.a,{className:n.avatar,children:Object(M.jsx)(lt.a,{})}),Object(M.jsx)(p.a,{component:"h1",variant:"h5",children:"Log in"}),Object(M.jsxs)("form",{onSubmit:s,className:n.form,children:[Object(M.jsx)(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Employee Name",name:"Name",inputRef:r,autoFocus:!0}),Object(M.jsx)(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Employee Id",label:"Employee Id",id:"empId",inputRef:c}),Object(M.jsx)(ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Log In"})]})]}),Object(M.jsx)(be.a,{mt:8,children:Object(M.jsx)(dt,{})})]})},pt=r.a.createContext(),mt=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(i.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){localStorage.getItem("isLoggedIn")&&s(!0)}),[]),Object(M.jsx)(pt.Provider,{value:{isLoggedIn:c,onLogin:function(e,t){localStorage.setItem("isLoggedIn",!0),localStorage.setItem("employeeName",e),localStorage.setItem("employeeId",t),s(!0)}},children:t})},ft=pt,ht=function(){var e=Object(a.useContext)(ft);return e.isLoggedIn?Object(M.jsx)(ct,{}):Object(M.jsx)(bt,{onLoginFunc:e.onLogin})},Ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,238)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(ne.a,{children:Object(M.jsx)(mt,{children:Object(M.jsx)(ht,{})})})}),document.getElementById("root")),Ot()}},[[165,1,2]]]);
//# sourceMappingURL=main.5d24b325.chunk.js.map